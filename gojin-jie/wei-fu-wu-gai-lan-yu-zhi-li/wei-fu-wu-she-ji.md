# 微服务设计

#### API Gateway

SOA服务化的架构演进过程中 , 按照垂直功能进行了拆分 , 对外暴露了一批微服务 , 但是因为缺乏统一的出口面临了不少困难 :

* 客户端到微服务直接通信 , 强耦合 .
* 需要多次请求 , 客户端聚合数据 , 工作量巨大 , 延迟高 .
* 协议不利于统一 , 各个部门间有差异 , 需要端来兼容 .
* 面向“端”的API适配 , 耦合到了内部服务 .
* 多终端兼容逻辑复杂 , 每个服务都需要处理 .
* 统一逻辑无法收敛 , 比如安全认证、限流 .

![](/assets/wangguan1.png)

